{
  "privileges": [
    {
      "name": "WebAccess",
      "essential": true,
      "parameters": [
        "https://*.openstreetmap.org",
        "https://unpkg.com",
        "https://tile.openstreetmap.org",
        "https://*.basemaps.cartocdn.com",
        "https://server.arcgisonline.com"
      ]
    }
  ],
  "dataRoles": [
    {
      "name": "originLat",
      "kind": "GroupingOrMeasure",
      "displayName": "Origin Latitude",
      "requiredTypes": [
        {
          "numeric": true
        }
      ]
    },
    {
      "name": "originLng",
      "kind": "GroupingOrMeasure",
      "displayName": "Origin Longitude",
      "requiredTypes": [
        {
          "numeric": true
        }
      ]
    },
    {
      "name": "destLat",
      "kind": "GroupingOrMeasure",
      "displayName": "Destination Latitude",
      "requiredTypes": [
        {
          "numeric": true
        }
      ]
    },
    {
      "name": "destLng",
      "kind": "GroupingOrMeasure",
      "displayName": "Destination Longitude",
      "requiredTypes": [
        {
          "numeric": true
        }
      ]
    },
    {
      "name": "lineWidth",
      "kind": "Measure",
      "displayName": "Line Width",
      "requiredTypes": [
        {
          "numeric": true
        }
      ]
    },
    {
      "name": "originBubbleSize",
      "kind": "Measure",
      "displayName": "Origin Bubble Size",
      "requiredTypes": [
        {
          "numeric": true
        }
      ]
    },
    {
      "name": "destBubbleSize",
      "kind": "Measure",
      "displayName": "Destination Bubble Size",
      "requiredTypes": [
        {
          "numeric": true
        }
      ]
    },
    {
      "name": "tooltips",
      "kind": "GroupingOrMeasure",
      "displayName": "Tooltips"
    }
  ],
  "objects": {
    "routeSettings": {
      "displayName": "Route Settings",
      "properties": {
        "lineWidth": {
          "displayName": "Line Width",
          "type": {
            "numeric": true
          }
        },
        "lineColor": {
          "displayName": "Line Color",
          "type": {
            "fill": {
              "solid": {
                "color": true
              }
            }
          }
        }
      }
    },
    "originBubbles": {
      "displayName": "Origin Bubbles",
      "properties": {
        "show": {
          "displayName": "Show",
          "type": {
            "bool": true
          }
        },
        "bubbleSize": {
          "displayName": "Bubble Size",
          "type": {
            "numeric": true
          }
        },
        "bubbleColor": {
          "displayName": "Bubble Color",
          "type": {
            "fill": {
              "solid": {
                "color": true
              }
            }
          }
        }
      }
    },
    "destinationBubbles": {
      "displayName": "Destination Bubbles",
      "properties": {
        "show": {
          "displayName": "Show",
          "type": {
            "bool": true
          }
        },
        "bubbleSize": {
          "displayName": "Bubble Size",
          "type": {
            "numeric": true
          }
        },
        "bubbleColor": {
          "displayName": "Bubble Color",
          "type": {
            "fill": {
              "solid": {
                "color": true
              }
            }
          }
        }
      }
    },
    "mapSettings": {
      "displayName": "Map",
      "properties": {
        "mapStyle": {
          "displayName": "Map Style",
          "description": "Choose the visual style of the map",
          "type": {
            "enumeration": [
              {
                "displayName": "OpenStreetMap Standard",
                "value": "osm-standard"
              },
              {
                "displayName": "CartoDB Positron (Light)",
                "value": "cartodb-positron"
              },
              {
                "displayName": "CartoDB Dark Matter",
                "value": "cartodb-dark"
              },
              {
                "displayName": "ESRI World Street Map",
                "value": "esri-street"
              },
              {
                "displayName": "ESRI World Imagery",
                "value": "esri-satellite"
              }
            ]
          }
        },
        "autoZoom": {
          "displayName": "Auto zoom",
          "description": "Automatically recenter map to show displayed points when data changes",
          "type": {
            "bool": true
          }
        },
        "zoomButtons": {
          "displayName": "Zoom Buttons",
          "description": "Show zoom buttons in the top-left corner of the map",
          "type": {
            "bool": true
          }
        },
        "initialLatitude": {
          "displayName": "Initial Latitude",
          "description": "Starting latitude when visual is first loaded",
          "type": {
            "numeric": true
          }
        },
        "initialLongitude": {
          "displayName": "Initial Longitude",
          "description": "Starting longitude when visual is first loaded",
          "type": {
            "numeric": true
          }
        },
        "initialZoom": {
          "displayName": "Initial Zoom",
          "description": "Starting zoom level when visual is first loaded",
          "type": {
            "numeric": true
          }
        }
      }
    },
    "tooltips": {
      "displayName": "Tooltips",
      "description": "Tooltips settings",
      "properties": {}
    }
  },
  "dataViewMappings": [
    {
      "conditions": [
        {
          "originLat": {
            "max": 1
          },
          "originLng": {
            "max": 1
          },
          "destLat": {
            "max": 1
          },
          "destLng": {
            "max": 1
          },
          "lineWidth": {
            "max": 1
          },
          "originBubbleSize": {
            "max": 1
          },
          "destBubbleSize": {
            "max": 1
          }
        }
      ],
      "table": {
        "rows": {
          "select": [
            {
              "for": {
                "in": "originLat"
              }
            },
            {
              "for": {
                "in": "originLng"
              }
            },
            {
              "for": {
                "in": "destLat"
              }
            },
            {
              "for": {
                "in": "destLng"
              }
            },
            {
              "for": {
                "in": "lineWidth"
              }
            },
            {
              "for": {
                "in": "originBubbleSize"
              }
            },
            {
              "for": {
                "in": "destBubbleSize"
              }
            },
            {
              "for": {
                "in": "tooltips"
              }
            }
          ],
          "dataReductionAlgorithm": {
            "top": {
              "count": 30000
            }
          }
        }
      },
      "categorical": {
        "categories": {
          "select": [
            {
              "for": {
                "in": "originLat"
              }
            },
            {
              "for": {
                "in": "originLng"
              }
            },
            {
              "for": {
                "in": "destLat"
              }
            },
            {
              "for": {
                "in": "destLng"
              }
            },
            {
              "for": {
                "in": "tooltips"
              }
            }
          ],
          "dataReductionAlgorithm": {
            "window": {
              "count": 30000
            }
          }
        },
        "values": {
          "select": [
            {
              "for": {
                "in": "lineWidth"
              }
            },
            {
              "for": {
                "in": "originBubbleSize"
              }
            },
            {
              "for": {
                "in": "destBubbleSize"
              }
            },
            {
              "bind": {
                "to": "tooltips"
              }
            }
          ],
          "dataReductionAlgorithm": {
            "window": {
              "count": 30000
            }
          }
        }
      }
    }
  ],
  "sorting": {
    "default": {}
  },
  "supportsHighlight": true,
  "supportsKeyboardFocus": true,
  "supportsLandingPage": true,
  "supportsMultiVisualSelection": true,
  "tooltips": {
    "supportedTypes": {
      "default": true,
      "canvas": true
    },
    "roles": [
      "tooltips"
    ],
    "supportEnhancedTooltips": true
  }
}
  